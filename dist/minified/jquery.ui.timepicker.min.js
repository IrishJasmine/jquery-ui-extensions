/*! Ben's jQuery UI Extensions - v1.0.14 - 2014-03-21
* https://github.com/bseth99/jquery-ui-extensions
* Copyright 2014 Ben Olson; Licensed MIT */
(function(t){"use strict";var i=t.ui.spinner.prototype._stop;t.ui.spinner.prototype._stop=function(t){var e=this.value()||0;t&&"keyup"==t.type&&e!=this._adjustValue(e)?(this.value(this.previous),this._trigger("invalid",t)):(this.previous=e,this.element.val(this._format(e))),i.call(this,t)},t.widget("ui.paddedspinner",t.ui.spinner,{widgetEventPrefix:"spin",options:{padCount:2,padString:"0"},_parse:function(t){return+t},_format:function(t){for(var i=t+"";i.length<this.options.padCount;)i=this.options.padString+i;return i}}),t.widget("ui.ampmspinner",t.ui.spinner,{widgetEventPrefix:"spin",options:{max:1,min:0,alignment:"vertical"},_parse:function(t){return"string"==typeof t?"AM"==t?0:1:t},_format:function(t){return 0===t?"AM":"PM"}}),t.widget("osb.timepicker",{version:"1.0.14",widgetEventPrefix:"timepicker",options:{},_init:function(){var t=this,i='<input class="ui-timepicker-hour"/><span style="font-size: 1.4em">:</span><input class="ui-timepicker-minute"/> <input class="ui-timepicker-ampm"/>';this.element.empty().html(i),this.$hour=this.element.children(".ui-timepicker-hour").paddedspinner({alignment:"vertical",min:0,max:13,spin:function(i,e){var n,s=+e.value;return 0==s||13==s?(0==s&&t.$hour.paddedspinner("value",12),13==s&&t.$hour.paddedspinner("value",1),n=t.$ampm.ampmspinner("value"),t.$ampm.ampmspinner("value",0==n?1:0),t._trigger("change",t._value()),!1):(t._trigger("change",t._value()),void 0)},stop:function(){var i=+t.$hour.val();(0==i||13==i)&&t.$hour.val(""),t._ensureValue()}}),this.$minute=this.element.children(".ui-timepicker-minute").paddedspinner({alignment:"vertical",min:-1,max:60,spin:function(i,e){var n,s=+e.value;return-1==s||60==s?(-1==s&&t.$minute.paddedspinner("value",59),60==s&&t.$minute.paddedspinner("value",0),n=t.$hour.paddedspinner("value"),n=-1==s?n-1:n+1,t.$hour.paddedspinner("value",n).data("ui-paddedspinner")._trigger("spin",i,{value:n}),t._trigger("change",t._value()),!1):(t._trigger("change",t._value()),void 0)},stop:function(){var i=+t.$minute.val();(-1==i||60==i)&&t.$hour.val(""),t._ensureValue()}}),this.$ampm=this.element.children(".ui-timepicker-ampm").ampmspinner({spin:function(){t._trigger("change",t._value()),t._ensureValue()}})},_destroy:function(){this.element.empty()},_value:function(){var t=this.$hour.val(),i=this.$minute.val(),e=this.$ampm.val();return t+":"+i+" "+e},_parse:function(t){var i,e,n,s=t.split(/[: ]/);2>s.length||(i=s[0],e=s[1],n=s[2],this.$hour.paddedspinner("value",+i),this.$minute.paddedspinner("value",+e),this.$ampm.ampmspinner("value","AM"==n?0:1))},_ensureValue:function(){var t=new Date,i=this.$hour.val(),e=this.$minute.val(),n=this.$ampm.val();i||this.$hour.paddedspinner("value",(i=t.getHours())>12?i-12:i),e||this.$minute.paddedspinner("value",t.getMinutes()),n||this.$ampm.ampmspinner("value",t.getHours()>12?"PM":"AM")},value:function(t){return t===void 0?this._value():(this._parse(t),void 0)}})})(jQuery);